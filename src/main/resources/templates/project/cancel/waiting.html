<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <link rel="stylesheet" th:href="@{/css/vendor/font-awesome.min.css}"/>
  <link rel="stylesheet" th:href="@{/css/vendor/Pe-icon-7-stroke.css}" />

  <!-- Plugin CSS (Global Plugins Files) -->
  <link rel="stylesheet" th:href="@{/css/plugins/animate.min.css}">
  <link rel="stylesheet" th:href="@{/css/plugins/jquery-ui.min.css}">
  <link rel="stylesheet" th:href="@{/css/plugins/swiper-bundle.min.css}">
  <link rel="stylesheet" th:href="@{/css/plugins/nice-select.css}">
  <link rel="stylesheet" th:href="@{/css/plugins/magnific-popup.min.css}"/>

  <!-- Style CSS -->
  <link rel="stylesheet" th:href="@{/css/style.css }">
  <link rel="stylesheet" th:href="@{/css/projectnotice.css }">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<div class="main-wrapper">
  <div th:include="/common/menubar.html"></div>
  <div class="mypage" th:replace="/common/waitingproject.html"></div>

  <!-- Begin 게시판영역 -->
  <div class="tab-body-area">
    <div class="title-div">

    </div>
  </div>
  <!-- 영역 end -->
  <div th:replace="/common/footer.html"></div>
  <script>

    $(".registProjectNotice").click(function() {

      location.href='/project/notice/regist';
    });

    $("#back").click(function() {
      // const projectNo =
      location.href='/project/notice/list';
    });
    //요 친구가 조회해와야하는 필드명을 적는 곳
    function projectNoticeData(projectNoticeNo, projectNoticeTitle, projectNoticeCount, registDate, projectNo) {

      return {projectNoticeNo, projectNoticeTitle, projectNoticeCount, registDate, projectNo};
    }
    //컨틀롤러 메소드
    function findProjectNoticeList() {
      //컨트롤러 주소
      fetch('/project/notice/list/{projectNo}').then(resonse => {
        if (resonse.ok) {
          return resonse.json();
        }
      }).then(json => {
        let html = '';

        if (!json.length) {
          alert("암것도 없음");
          console.log("암것도 없음");
          html = '<td colspan="5">등록된 게시글이 없습니다.</td>';
        } else {
          json.forEach((projectNoticeData, idx) => {
            console.log("게시글있음");

          });
        }
      });
    }

    /* 목록 눌러서 상세조회로 이동 */
    /* 게시글을 클릭하면 해당 게시글 번호로 이동한다. */
    if(document.querySelectorAll("#noticeList td")) {
      const $tds = document.querySelectorAll("#noticeList td");
      for( let i = 0; i < $tds.length; i++) {

        $tds[i].onclick = function() {
          const projectNoticeNo = this.parentNode.children[0].innerText;
          console.log(projectNoticeNo);

          // document.getElementById("projectNoticeList").style.display = "none";
          // document.getElementById("pagination").style.display = "none";
          // document.getElementById("projectNoticeDetail").style.display = "block";

          location.href = '/project/notice/detail/' + projectNoticeNo;

        }
      }
    }


  </script>
  <script th:src="@{ /js/vendor/bootstrap.bundle.min.js }"></script>
  <script th:src="@{ /js/vendor/jquery-3.5.1.min.js }"></script>
  <script th:src="@{ /js/vendor/jquery-migrate-3.3.0.min.js }"></script>
  <script th:src="@{ /js/vendor/modernizr-3.11.2.min.js }"></script>
  <script th:src="@{ /js/vendor/jquery.waypoints.js }"></script>

  <!--Plugins JS-->
  <script th:src="@{ /js/plugins/wow.min.js }"></script>
  <script th:src="@{ /js/plugins/jquery-ui.min.js }"></script>
  <script th:src="@{ /js/plugins/swiper-bundle.min.js }"></script>
  <script th:src="@{ /js/plugins/jquery.nice-select.js }"></script>
  <script th:src="@{ /js/plugins/parallax.min.js }"></script>
  <script th:src="@{ /js/plugins/jquery.magnific-popup.min.js }"></script>
</body>
</html>
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>떡잎펀드 - 1:1 문의</title>
    <meta name="robots" content="noindex, follow"/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/images/common/favicon.ico"/>

    <!-- CSS
    ============================================ -->

    <!-- Vendor CSS (Contain Bootstrap, Icon Fonts) -->
    <link rel="stylesheet" th:href="@{/css/vendor/font-awesome.min.css}"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/vendor/Pe-icon-7-stroke.css}"/>

    <!-- Plugin CSS (Global Plugins Files) -->
    <link rel="stylesheet" th:href="@{/css/plugins/animate.min.css}">
    <link rel="stylesheet" th:href="@{/css/plugins/jquery-ui.min.css}">
    <link rel="stylesheet" th:href="@{/css/plugins/swiper-bundle.min.css}">
    <link rel="stylesheet" th:href="@{/css/plugins/nice-select.css}">
    <link rel="stylesheet" th:href="@{/css/plugins/magnific-popup.min.css}"/>

    <!-- Style CSS -->
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/platformqa.css}">

</head>

<body>

<div class="main-wrapper">

    <!-- Begin Main Header Area -->
    <header th:replace="/common/menubar.html"></header>
    <!-- Main Header Area End Here -->

    <!-- Modal HTML -->
    <form action="/qna/regist" method="post">
        <div class="modal fade" id="writeModalToggle" data-bs-backdrop="static"
             tabindex="-1" aria-labelledby="writeModalToggleLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content" style="text-align: center;">
                    <div class="modal-header" style="border-bottom: none;">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="padding: 0;">
                        <div class="category-form">
                            <label for="categoryNo" style="display: inline-block; width: 90%; text-align: left;">문의 유형</label>
                            <select name="qnaCategory.platformQaCategoryNo" id="categoryNo" style="width: 90%;">
                                <option disabled selected>문의 유형</option>
                                <th:block th:each="platformQaCategory : ${ platformQaCategoryList }">
                                    <option th:value="${ platformQaCategory.platformQaCategoryNo }">[[${ platformQaCategory.platformQaCategoryName }]]</option>
                                </th:block>
                            </select>
                        </div>
                        <div class="title-form" style="margin-top: 10px;">
                            <label for="title" style="display: inline-block; width: 90%; text-align: left;">제목</label>
                            <input type="text" id="title" name="platformQaTitle" style="width: 90%;">
                        </div>
                        <div class="content-form" style="margin-top: 10px;">
                            <label for="content" style="display: inline-block; width: 90%; text-align: left;">문의 내용</label>
                            <textarea id="content" name="platformQaContent" style="width: 90%; height: 300px;"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer" style="border-top: none;">
                        <div style="margin: 0 auto;">
                            <button type="button" class="basic-btn small-btn btn1" data-bs-target="#subModalToggle"
                                    data-bs-toggle="modal" data-bs-dismiss="modal">등록</button>
                            <button type="button" class="basic-btn small-btn btn3"
                                    data-bs-dismiss="modal">취소</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="subModalToggle" data-bs-backdrop="static" aria-hidden="true" aria-labelledby="subModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header" style="border-bottom: none;">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="text-align: center;">
                        등록하시겠습니까?
                    </div>
                    <div class="modal-footer" style="border-top: none;">
                        <div style="margin: 0 auto;">
                            <button type="button" class="basic-btn small-btn btn1" data-bs-target="#confirmModal" data-bs-toggle="modal" data-bs-dismiss="modal">확인</button>
                            <button type="button" class="basic-btn small-btn btn3" data-bs-target="#writeModalToggle" data-bs-toggle="modal" data-bs-dismiss="modal">취소</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="confirmModal" data-bs-backdrop="static" aria-hidden="true" aria-labelledby="subModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header" style="border-bottom: none;">
                        <button type="submit" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="text-align: center;">
                        등록되었습니다!
                    </div>
                    <div class="modal-footer" style="border-top: none;">
                        <div style="margin: 0 auto;">
                            <button type="submit" class="basic-btn small-btn btn1" data-bs-target="#confirmModal">확인</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!-- Modal HTML  -->

    <!-- 마이 페이지 -->
    <!-- Begin Main Content Area -->
    <main class="main-content">
        <div class="qna-wrap">
            <div class="title-div">
                <span class="text-title"><img class="icon-title" src="/images/common/Leaf.png" alt="" width="30px">1:1 문의</span>
                <hr style="width: 100%">
            </div>
            <div class="cont-div">
                <div style="text-align: right">
<!--                    <button class="medium-btn btn1 basic-btn" onclick="location.href='/qna/regist'">작성하기</button>-->
                    <button class="medium-btn btn1 basic-btn" data-bs-toggle="modal" data-bs-target="#writeModalToggle">작성하기</button>
                </div>
                <table>
                    <colgroup>
                        <col style="width: 5%">
                        <col style="width: 10%">
                        <col style="width: 10%">
                        <col style="width: 50%">
                        <col style="width: 10%">
                        <col style="width: 15%">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>번호</th>
                            <th>문의 유형</th>
                            <th>답변 상태</th>
                            <th>제목</th>
                            <th>작성자</th>
                            <th>작성일</th>
                        </tr>
                    </thead>
                    <tbody th:each="platformQa : ${ platformQaList }">
                        <tr>
                            <td th:text="${ platformQa.platformQaNo }"></td>
                            <td th:text="${ platformQa.qnaCategory.platformQaCategoryName }"></td>
                            <td th:text="${ platformQa.platformQaAnswerStatus }"></td>
                            <td th:text="${ platformQa.platformQaTitle }" class="align_l tit" style="cursor: pointer;"></td>
                            <td th:text="${ platformQa.member.memberId }"></td>
                            <td th:text="${ platformQa.platformQaRegistDate }"></td>
                        </tr>
                        <tr class="qnaDetailTr qnaDetailTr_qnaNo on" style="display: none;">
                            <td></td>
                            <td></td>
                            <td></td>
                            <td th:text="${ platformQa.platformQaContent }" class="align_l con"></td>
                            <td colspan="2"></td>
                        </tr>
                        <tr th:each="platformQaReply : ${ platformQaReplyList }" class="qnaDetailTr qnaDetailTr_qnaNo on review_st" style="display: none; background: #fafafa;">
                            <td></td>
                            <td></td>
                            <td></td>
                            <td th:text="${ platformQaReply.platformQaReplyContent }" class="align_l con">
                                <span class="re" style="position: unset; background: #BAC34E; color: #fff; border-radius: 5px;">답변</span>
                            </td>
                            <td th:text="${ platformQaReply.member.memberNo }"></td>
                            <td th:text="${ platformQaReply.platformQaReplyRegistDate }"></td>
                        </tr>
<!--                        <tr>-->
<!--                            <td>9999</td>-->
<!--                            <td>기타</td>-->
<!--                            <td>답변완료</td>-->
<!--                            <td class="align_l tit">-->
<!--                                <a style="cursor: pointer;" onclick="showQnaDetailLayer(qnaNo);">질문있습니다</a>-->
<!--                            </td>-->
<!--                            <td>member-id</td>-->
<!--                            <td>2022-12-31 23:59</td>-->
<!--                        </tr>-->
<!--                        <tr class="qnaDetailTr qnaDetailTr_qnaNo on" style="display: none;">-->
<!--                            &lt;!&ndash; 제목 누르면 내용 보이게 해주세요 &ndash;&gt;-->
<!--                            <td></td>-->
<!--                            <td></td>-->
<!--                            <td></td>-->
<!--                            <td class="align_l con">이럴 땐 어떡하나요?</td>-->
<!--                            <td colspan="2"></td>-->
<!--                        </tr>-->
<!--                        <tr class="qnaDetailTr qnaDetailTr_qnaNo on review_st" style="display: none; background: #fafafa;">-->
<!--                            &lt;!&ndash; 제목 누르면 내용 보이게 해주세요 &ndash;&gt;-->
<!--                            <td></td>-->
<!--                            <td></td>-->
<!--                            <td></td>-->
<!--                            <td class="align_l con">-->
<!--                                <span class="re" style="position: unset; background: #BAC34E; color: #fff; border-radius: 5px;">답변</span>-->
<!--                                답변입니다-->
<!--                            </td>-->
<!--                            <td>관리자</td>-->
<!--                            <td>2023-01-01 00:01</td>-->
<!--                        </tr>-->
                    </tbody>
                </table>
                <div id="paging" align="center">
                    <!-- 가장 처음 -->
                    <button th:onclick="'location.href=\'/qna/list?page=' + @{${paging.startPage}}  + '\''"
                            th:disabled="${ platformQaList.first }"><<</button>

                    <!-- 이전 페이지 -->
                    <button th:onclick="'location.href=\'/qna/list?page=' + @{${paging.currentPage - 1}}  + '\''"
                            th:disabled="${ platformQaList.first }"><</button>

                    <!-- 페이지 번호 -->
                    <th:block th:each="page : ${#numbers.sequence(paging.startPage, paging.endPage)}">
                        <button th:onclick="'location.href=\'/qna/list?page=' + @{${page}}  + '\''"
                                th:text="${ page }"
                                th:disabled="${ paging.currentPage eq page }"></button>
                    </th:block>

                    <!-- 다음 페이지 -->
                    <button th:onclick="'location.href=\'/qna/list?page=' + @{${paging.currentPage + 1}}  + '\''"
                            th:disabled="${ platformQaList.last }">></button>

                    <!-- 가장 끝 -->
                    <button th:onclick="'location.href=\'/qna/list?page=' + @{${paging.endPage}}  + '\''"
                            th:disabled="${ platformQaList.last }">>></button>
                </div>
                <form id="search-form" action="/qna/search" method="get">
                    <fieldset>
                        <div class="search">
                            <select name="" id="question-category">
                                <option value="" disabled selected>문의 유형</option>
                                <option value="">일반</option>
                                <option value="">펀딩</option>
                                <option value="">리워드</option>
                                <option value="">환불</option>
                                <option value="">배송</option>
                                <option value="">계정</option>
                                <option value="">기타</option>
                            </select>
                            <select name="" id="answer-status">
                                <option value="" disabled selected>답변 상태</option>
                                <option value="">답변 완료</option>
                                <option value="">답변 대기</option>
                            </select>
                            <input type="text" name="keyword" placeholder="검색어를 입력해주세요">
                            <button type="submit"><i class="fas fa-search"></i></button>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </main>
    <!-- Main Content Area End Here -->

    <!-- 배경색 본문 -->
    <!-- <div class="bgcolor-div">

    </div> -->

    <!-- Begin Footer Area -->
    <footer th:replace="/common/footer.html"></footer>
    <!-- Footer Area End Here -->

    <!-- Begin Scroll To Top -->
    <a class="scroll-to-top" href="">
        <i class="fa fa-chevron-up"></i>
    </a>
    <!-- Scroll To Top End Here -->

</div>

<!-- Global Vendor, plugins JS -->

<!-- JS Files
============================================ -->
<!-- Global Vendor, plugins JS -->

<!-- Vendor JS -->
<script th:src="@{ js/vendor/bootstrap.bundle.min.js }"></script>
<script th:src="@{ js/vendor/jquery-3.5.1.min.js }"></script>
<script th:src="@{ js/vendor/jquery-migrate-3.3.0.min.js }"></script>
<script th:src="@{ js/vendor/modernizr-3.11.2.min.js }"></script>
<script th:src="@{ js/vendor/jquery.waypoints.js }"></script>

<!--Plugins JS-->
<script th:src="@{ js/plugins/wow.min.js }"></script>
<script th:src="@{ js/plugins/jquery-ui.min.js }"></script>
<script th:src="@{ js/plugins/swiper-bundle.min.js }"></script>
<script th:src="@{ js/plugins/jquery.nice-select.js }"></script>
<script th:src="@{ js/plugins/parallax.min.js }"></script>
<script th:src="@{ js/plugins/jquery.magnific-popup.min.js }"></script>

<!--Main JS (Common Activation Codes)-->
<script th:src="@{ js/main.js }"></script>

<script>
    /*Qna 제목 클릭 토글*/
    var $qnaTit = $('td.tit');
    $qnaTit.click(function(e) {
        e.preventDefault();
        var target = $(this);
        var index = target.index();
        target.parent().toggleClass('active');
        target.parent().next().toggle();
        target.parent().next().next().toggle();
    });

    /*Qna 자세히보기*/
    function showQnaDetailLayer(qnaNo) {
        if($(".qnaDetailTr_"+qnaNo).css('display') == 'none') {
            $('.qnaDetailTr').css('display','none');
            $(".qnaDetailTr_"+qnaNo).css('display','');
        } else{
            $(".qnaDetailTr_"+qnaNo).css('display','none');
        }
    }
</script>

</body>

</html>